services:
  giter-dev:
    build:
      context: .
      dockerfile: Dockerfile.dev
    container_name: giter-dev
    ports:
      - "8080:8080"
    environment:
      - TZ=Asia/Tokyo
      - GIN_MODE=debug
    volumes:
      # ソースコードをマウント（ホットリロード用）
      # ログディレクトリ（log/）も自動的にホスト側に保存される
      - .:/app
      # Go modulesキャッシュをボリュームに保存
      - go-modules:/go/pkg/mod
    restart: unless-stopped
    networks:
      - giter-network

volumes:
  go-modules:

networks:
  giter-network:
    driver: bridge
